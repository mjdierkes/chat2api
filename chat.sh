#!/bin/bash

TOKEN="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik1UaEVOVUpHTkVNMVFURTRNMEZCTWpkQ05UZzVNRFUxUlRVd1FVSkRNRU13UmtGRVFrRXpSZyJ9.eyJwd2RfYXV0aF90aW1lIjoxNzMzNDI5NzQzNzU0LCJzZXNzaW9uX2lkIjoiQWVhR0lhaldScWdNcTlsV0VPWW1INWZGV2V5OEw3S3QiLCJodHRwczovL2FwaS5vcGVuYWkuY29tL3Byb2ZpbGUiOnsiZW1haWwiOiJtYXNvbkB0aGV3cmFwcGVyLmNvbXBhbnkiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZX0sImh0dHBzOi8vYXBpLm9wZW5haS5jb20vYXV0aCI6eyJwb2lkIjoib3JnLVhHQUVwb1ZVQmhTNmFpYWdCd3V3dk5NRiIsInVzZXJfaWQiOiJ1c2VyLVpsa2YxTWhQcVFqYjR5TG5zQllDQXlaaiJ9LCJpc3MiOiJodHRwczovL2F1dGgwLm9wZW5haS5jb20vIiwic3ViIjoiYXV0aDB8NjZmNzRhOWY4Y2RiNjU2NDc3NjgwOTRiIiwiYXVkIjpbImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEiLCJodHRwczovL29wZW5haS5vcGVuYWkuYXV0aDBhcHAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTczMzQyOTc0NSwiZXhwIjoxNzM0MjkzNzQ1LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIG1vZGVsLnJlYWQgbW9kZWwucmVxdWVzdCBvcmdhbml6YXRpb24ucmVhZCBvcmdhbml6YXRpb24ud3JpdGUgb2ZmbGluZV9hY2Nlc3MiLCJhenAiOiJUZEpJY2JlMTZXb1RIdE45NW55eXdoNUU0eU9vNkl0RyJ9.AJdnt8V6P87Tl4cmQxeG7GaBihGGvxeYmbcBCm9QTR6i9U35qKZo4zxaUUmBLBR-HC0od1gPHhFnPmrUDu_6l3ZLnsPId-B8sz5NDWD_M1LUPlsYUX9Kin326r9HvjzvVzKeloyeYJQSiAalyMN1oMM0zxF35-RaknxgOE1ci3Uv12mGLWTUfnmYqFA0y0BK-RDwnbSsw9zri3MG6wY7sUepRwiPOgDu9CEh5IjHcbb4NNe6o5-bLpD9n7O7qaB32kF86tGV0-EBsSB1KyXdR4WfGOrXy5qvJk-PoiEA9qU8eYGxG5IoDClPGoChYRmqh_6F9CotfFb7ks4uBiI8tA"

curl --location 'http://127.0.0.1:5005/v1/chat/completions' \
--header 'Content-Type: application/json' \
--header "Authorization: Bearer $TOKEN" \
--data '{
    "model": "gpt-4o",
    "messages": [{"role": "user", "content": "'"$1"'"}],
    "stream": true
}'